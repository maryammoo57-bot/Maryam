<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ูพุฑุณุดูุงูู ุชุดุฎุต ููุน ูพูุณุช</title>
<style>
/* ูพุงู */
body { font-family: Tahoma, sans-serif; direction: rtl; padding: 20px; background: linear-gradient(180deg,#eefaf5 0%, #ffffff 100%); }
.container { max-width: 700px; margin: 30px auto; background: #fff; padding: 28px; border-radius: 18px; box-shadow: 0 12px 30px rgba(0,0,0,0.08); }
header { text-align: center; margin-bottom: 10px; }
h2 { color: #1b7a59; margin: 6px 0; font-size: 1.8rem; }
.intro { color: #333; line-height: 1.7; }

/* ูุฑู */
.form-row label { display:block; margin:12px 0; }
input[type="text"], input[type="number"], select { width:100%; padding:12px; border-radius:10px; border:1px solid #d7eae2; }
button { background:#1b7a59; color:#fff; border:none; padding:12px 18px; border-radius:10px; cursor:pointer; font-size:1rem; box-shadow: 0 6px 18px rgba(27,122,89,0.12); transition: transform .12s ease, box-shadow .12s ease; }
button:hover { background:#166645; transform: translateY(-3px); box-shadow: 0 10px 25px rgba(22,102,69,0.15); }

/* ุณูุงู */
.question { margin-top:18px; background:linear-gradient(180deg,#fbfffd,#f2fbf7); padding:18px; border-radius:12px; box-shadow: 0 6px 18px rgba(27,122,89,0.06); }
.question h3 { margin:0 0 8px 0; font-size:1.05rem; color:#13573f; font-family: Georgia, 'Times New Roman', serif; }
label.option { display:block; margin:8px 0; cursor:pointer; }

/* ูุชุฌู */
.result { margin-top:24px; padding:20px; background:#f1f9f5; border-radius:12px; }
.skin-card { background:#ffffff; padding:14px; border-radius:12px; margin:12px 0; box-shadow: 0 6px 12px rgba(0,0,0,0.04); opacity:0; transform: translateY(8px); }
.skin-card h4 { margin:0 0 8px 0; font-size:1.05rem; color:#0e5b3f; font-family: 'Georgia', serif; }
.skin-card p { margin:6px 0; color:#333; line-height:1.6; }
.skin-card p.warning { background:#fff7f6; border-left:4px solid #ff6b6b; padding:10px; border-radius:6px; }
.skin-card p.products { background:#f7fff8; border-left:4px solid #23a058; padding:10px; border-radius:6px; }

/* ููุน ูพูุณุช ูุงุถุญ */
.type-badge { display:inline-block; padding:10px 14px; border-radius:20px; background:linear-gradient(90deg,#f7fff8,#eaf6f1); border:2px solid #d9efe3; font-weight:700; color:#0b643f; margin-top:8px; font-size:1.05rem; }

/* CTA ุฒุจุง */
.cta-area { margin-top:18px; display:flex; flex-direction:column; gap:12px; }
.cta-grid { display:grid; grid-template-columns: 1fr; gap:12px; }
.cta-card { background: linear-gradient(180deg,#ffffff,#f7fff8); padding:14px; border-radius:12px; box-shadow: 0 8px 20px rgba(13,94,61,0.06); display:flex; align-items:center; gap:12px; border:1px solid #e6f3ec; opacity:0; transform: translateY(8px); }
.cta-card .icon { width:54px; height:54px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:#eaf6f1; flex-shrink:0; }
.cta-card h5 { margin:0; font-size:1rem; color:#0e5b3f; }
.cta-card p { margin:4px 0 0 0; color:#444; font-size:0.95rem; line-height:1.4; }
.cta-actions { display:flex; gap:10px; margin-top:10px; }
.cta-actions a { text-decoration:none; }
.cta-actions a button { padding:10px 14px; border-radius:10px; font-weight:700; }

/* ุฏฺฉููโูุง CTA ุฑูฺฏ ูุทุงุจู ุฎูุงุณุชู */
.btn-cta-purple { background:#8000ff; color:#fff; }
.btn-cta-green  { background:#28a745; color:#fff; }
.btn-cta-lightblue { background:#5dade2; color:#fff; }

@media(min-width:700px){ .cta-grid { grid-template-columns: repeat(3, 1fr); } }

.small-note { margin-top:12px; color:#555; font-size:0.95rem; text-align:center; }

/* ุงููุดู */
@keyframes slideUp { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }
.animate { animation: slideUp .45s cubic-bezier(.2,.9,.2,1) both; }
</style>
</head>
<body>
<div class="container">
  <header>
    <h2>๐ฟ ูพุฑุณุดูุงูู ุฑุงฺฏุงู ุชุดุฎุต ููุน ูพูุณุช</h2>
    <p class="intro">ุงู ูพุฑุณุดูุงูู ุจู ุตูุฑุช ฺฉุงููุงู ุฑุงฺฏุงู ุชูุณุท <strong>ุฏฺฉุชุฑ ูุฑู ููุณูุงู</strong>ุ ูพุฒุดฺฉ ุฒุจุง ุงุฑุงุฆู ูโุดูุฏ. ุชููุง ฺูุฏ ุฏููู ููุช ูุงุฒู ุงุณุช ุชุง ููุน ูพูุณุช ุดูุง ู ูุงุฒูุง ุขู ุฑุง ูุดุฎุต ฺฉูู.</p>
  </header>

  <section id="form-section">
    <h3>ุงุทูุงุนุงุช ุงููู</h3>
    <div class="form-row">
      <label>ูุงู: <input type="text" id="firstName"></label>
      <label>ูุงู ุฎุงููุงุฏฺฏ: <input type="text" id="lastName"></label>
      <label>ุดูุงุฑู ููุจุงู: <input type="text" id="phone"></label>
      <label>ุฌูุณุช:
        <select id="gender"><option value="ูุฑุฏ">ูุฑุฏ</option><option value="ุฒู">ุฒู</option></select>
      </label>
      <label>ุณู: <input type="number" id="age" min="1" max="120"></label>
      <button onclick="startQuiz()">ุดุฑูุน ูพุฑุณุดูุงูู</button>
    </div>
  </section>

  <section id="quiz-section" style="display:none;"></section>
  <section id="result-section" style="display:none;"></section>
</div>

<script>
/*
ููุทู ุนูู ูพุงุฏูโุดุฏู โ ุฎูุงุตู:
- ูุจูุง: ูุญูุฑูุง O/D (ุฑูุบู/ุฎุดฺฉ) ู S/R (ุญุณุงุณ/ููุงูู) ุจุฑ ุงุณุงุณ ุณุณุชูโูุง ุดูุงุฎุชูโุดุฏู (Baumann) ู ูุทุงูุนุงุช ุชุดุฎุต ุญุณุงุณุช.
- ูุฑ ฺฏุฒููู ูุฑ ุณูุงู ุจู ุฏู ููุฏุงุฑ contribution ูุณุจุช ุฏุงุฏู ุดุฏู (oil, sens).
- ุงูุชุงุฒุงุช ุฌูุน ูโุดููุฏ ู ุจุฑ ุงุณุงุณ ุขู ููุน ูพูุณุช ุชุนู ูโุดูุฏ.
- ููุงูู ูฺู: ุงฺฏุฑ ูููู ูพุงุณุฎโูุง ฺฏุฒููู ุงูู โ ุฎุดฺฉ ูุทุน. ุงฺฏุฑ ูููู ูพุงุณุฎโูุง ฺฏุฒููู ุขุฎุฑ โ ุญุณุงุณุช ูุทุน.
*/

/* ุณูุงูโูุง (ุนูู ููุงูฺู ุงุฑุณุงู ฺฉุฑุฏุฏ) */
const quizQuestions = [
  { q: 'ุจุนุฏ ุงุฒ ุดุณุชโูุดู ุตูุฑุชุ ูพูุณุชุช ุจุนุฏ ุงุฒ ณฐ ุฏููู ฺู ุญุณ ุฏุงุฑูุ', a: ['ฺฉุดุฏู ู ุฎุดฺฉ', 'ุจุฑุงู ู ฺุฑุจ', 'ูพุดุงู ู ุจู ฺุฑุจุ ฺฏูููโูุง ุฎุดฺฉ ุง ูุฑูุงู', 'ูุชุนุงุฏู', 'ูุฑูุฒ ุง ุณูุฒุด ุฏุงุฑุฏ'] },
  { q: 'ูุนูููุงู ุฏุฑ ุทูู ุฑูุฒุ ูพูุณุชุช ฺุทูุฑ ุจู ูุธุฑ ูโุฑุณูุ', a: ['ูุงุช ู ุจโุฑูุญ', 'ุจุฑุงู ู ฺุฑุจ', 'ุฏุฑ ูุงุญู ูพุดุงู ู ุจู ฺฉู ุจุฑุงู ู ุจูู ุฌุงูุง ุฎุดฺฉ ุง ูุฑูุงู', 'ุดูุงู ู ฺฉููุงุฎุช', 'ุฒูุฏ ูุฑูุฒ ูโุดูุฏ'] },
  { q: 'ููุช ฺฉ ฺฉุฑู ูุฑุทูุจโฺฉููุฏู ุณุจฺฉ ุงุณุชูุงุฏู ูโฺฉูุ ฺู ุงุญุณุงุณ ุฏุงุฑุ', a: ['ุจุงุฒ ูู ุงุญุณุงุณ ุฎุดฺฉ ุฏุงุฑู', 'ุฎู ฺุฑุจ ูโุดูุฏ', 'ุจุนุถ ูุณูุชโูุง ุฎูุจ ูู ุจุนุถ ูุณูุชูุง ุณูฺฏู', 'ููุงุณุจ ู ุฑุงุญุช', 'ุงุญุณุงุณ ุณูุฒุด ุง ุฎุงุฑุด ุฏุงุฑู'] },
  { q: 'ุขุง ููุงูุฐ ูพูุณุชุช ูุงุจู ูุดุงูุฏูโุงูุฏุ', a: ['ุจุณุงุฑ ฺฉูฺฺฉ', 'ุจุฒุฑฺฏ ู ูุงุถุญ', 'ุฏุฑ ุจุนุถ ูุณูุชูุง ุจุฒุฑฺฏ', 'ุทุจุน ู ฺฉููุงุฎุช', 'ููุฑุงู ูุฑูุฒ'] },
  { q: 'ูพูุณุชุช ุฏุฑ ุฒูุณุชุงู ฺฺฏููู ุงุณุชุ', a: ['ุฎุดฺฉ ู ูพูุณุชูโูพูุณุชู', 'ฺุฑุจ ุจุงู ูโูุงูุฏ', 'ุจุฎุดโูุง ุฎุดฺฉุ ุจุฎุดโูุง ฺุฑุจ', 'ุชุบุฑ ูุฏุงุฑุฏ', 'ุญุณุงุณ ู ูุฑูุฒ'] },
  { q: 'ฺู ูุฒุงู ุฌูุด ุง ุขฺฉูู ุฏุงุฑุ', a: ['ุจุณุงุฑ ฺฉูุ ุจุดุชุฑ ุงุญุณุงุณ ุฎุดฺฉ', 'ุฒุงุฏุ ูุฎุตูุตุง ุฏุฑ ููุงุญ ฺุฑุจ', 'ฺฏุงู ุฏุฑ ููุงุญ ูพุดุงู ู ฺุงูู', 'ุฎู ฺฉู ุง ูฺ', 'ูพูุณุชู ูุฏุงู ุจู ูุญุตููุงุช ูุงฺฉูุด ู ุฏูุฏ'] }
];

let userAnswers = [];
let currentQuestion = 0;

/*
ุจุฑุง ูุฑ ุณูุงู: ุขุฑุงูโุง ุงุฒ 5 ุขุจุฌฺฉุช ฺฉู ูุฑ ุขุจุฌฺฉุช ูุดุงูโุฏููุฏูู ุชุฃุซุฑ ุขู ฺฏุฒูู ุจุฑ ุฏู ูุญูุฑ ุงุณุช:
  { oil: <ุนุฏุฏ ูุซุจุช ุจุฑุง ุชูุงู ุจู ฺุฑุจุ ููู ุจุฑุง ุชูุงู ุจู ุฎุดฺฉ>, sens: <ุนุฏุฏ ูุซุจุช ุจุฑุง ุญุณุงุณุช>}
*/
const contribByQuestion = [
  // ุณูุงู 1 (ณฐ ุฏููู ุจุนุฏ ุงุฒ ุดุณุชุดู) : ูู ุจุฑุง O/D
  [ {oil:-1.6, sens:0.1}, {oil:1.6, sens:0.1}, {oil:0.8, sens:0.15}, {oil:0.0, sens:0.05}, {oil:0.0, sens:0.9} ],
  // ุณูุงู 2 (ุฏุฑ ุทูู ุฑูุฒ): ูุดุงูฺฏุฑ ฺฉู
  [ {oil:-1.2, sens:0.1}, {oil:1.4, sens:0.15}, {oil:0.9, sens:0.12}, {oil:0.0, sens:0.05}, {oil:0.0, sens:0.8} ],
  // ุณูุงู 3 (ูุงฺฉูุด ุจู ูุฑุทูุจ ฺฉููุฏู): ุญุณุงุณุช ู ุฎุดฺฉ
  [ {oil:-1.3, sens:0.2}, {oil:1.0, sens:0.1}, {oil:0.6, sens:0.3}, {oil:0.0, sens:0.05}, {oil:0.0, sens:1.3} ],
  // ุณูุงู 4 (ููุงูุฐ): ูู ูุดุงูฺฏุฑ ฺุฑุจ
  [ {oil:-0.8, sens:0.05}, {oil:1.5, sens:0.08}, {oil:1.1, sens:0.06}, {oil:0.0, sens:0.03}, {oil:0.0, sens:0.1} ],
  // ุณูุงู 5 (ุฒูุณุชุงู): ุฎุดฺฉ/ุญุณุงุณุช
  [ {oil:-1.4, sens:0.25}, {oil:1.0, sens:0.1}, {oil:1.0, sens:0.18}, {oil:0.0, sens:0.05}, {oil:0.0, sens:1.1} ],
  // ุณูุงู 6 (ุขฺฉูู): ฺุฑุจ/ูุฎุชูุท
  [ {oil:-0.9, sens:0.05}, {oil:1.5, sens:0.1}, {oil:1.2, sens:0.12}, {oil:0.0, sens:0.03}, {oil:0.0, sens:0.15} ]
];

function startQuiz(){
  const firstName = document.getElementById('firstName').value.trim();
  const lastName = document.getElementById('lastName').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const age = document.getElementById('age').value;
  if(!firstName||!lastName||!phone||!age){ alert('ูุทูุง ููู ุงุทูุงุนุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ'); return; }
  document.getElementById('form-section').style.display='none';
  showQuestion();
}

function showQuestion(){
  if(currentQuestion>=quizQuestions.length){ showResult(); return; }
  const q = quizQuestions[currentQuestion];
  let html = `<div class="question"><h3>ุณูุงู ${currentQuestion+1}: ${q.q}</h3>`;
  q.a.forEach((ans,i)=>{ html += `<label class='option'><input type='radio' name='q${currentQuestion}' value='${ans}'> ${ans}</label>`; });
  html += `<div style="margin-top:10px;"><button onclick='nextQuestion()'>ุจุนุฏ</button></div></div>`;
  document.getElementById('quiz-section').innerHTML = html;
  document.getElementById('quiz-section').style.display='block';
}

function nextQuestion(){
  const radios = document.getElementsByName('q'+currentQuestion);
  let selected = null;
  radios.forEach(r=>{ if(r.checked) selected = r.value; });
  if(!selected){ alert('ูุทูุง ฺฉ ฺฏุฒูู ุงูุชุฎุงุจ ฺฉูุฏ'); return; }
  userAnswers.push(selected);
  currentQuestion++;
  showQuestion();
}

function showResult(){
  document.getElementById('quiz-section').style.display='none';

  if(userAnswers.length === 0){
    alert('ุงุทูุงุนุงุช ุจุฑุง ูุญุงุณุจู ูุฌูุฏ ูุฏุงุฑุฏ.');
    return;
  }

  // ุชุดุฎุต ุญุงูุช "ุชูุงู ุงููู ฺฏุฒูู" ุง "ุชูุงู ุขุฎุฑู ฺฏุฒูู"
  const allFirst = userAnswers.every((ans, idx) => quizQuestions[idx].a[0] === ans);
  const allLast  = userAnswers.every((ans, idx) => quizQuestions[idx].a[quizQuestions[idx].a.length - 1] === ans);

  // ุฌูุน ุงูุชุงุฒูุง ูุญูุฑ oil ู sensitivity
  let oilScore = 0;
  let sensScore = 0;
  userAnswers.forEach((ans, qi) => {
    const idx = quizQuestions[qi].a.indexOf(ans); // 0..4
    const contrib = (contribByQuestion[qi] && contribByQuestion[qi][idx]) ? contribByQuestion[qi][idx] : {oil:0,sens:0};
    oilScore += contrib.oil;
    sensScore += contrib.sens;
  });

  const oilyPositive = oilScore > 0 ? oilScore : 0;
  const dryPositive  = oilScore < 0 ? Math.abs(oilScore) : 0;
  const sensitivePositive = sensScore > 0 ? sensScore : 0;

  // ูุฎุชูุท: ูุฒุงู ุชุฑฺฉุจ ุจูุฏู ุฑุง ุงุฒ ูุฌููุน contrib ฺฏุฒููโูุง "ูุฎุชูุท" (ุงูุฏุณ 2) ูโฺฏุฑู
  let mixScore = 0;
  userAnswers.forEach((ans, qi) => {
    const idx = quizQuestions[qi].a.indexOf(ans);
    if(idx === 2){
      const contrib = contribByQuestion[qi][2];
      mixScore += Math.abs(contrib.oil) * 0.9 + contrib.sens * 0.4;
    }
  });

  const normalBase = Math.max(0, 1.0 - (oilyPositive + dryPositive + sensitivePositive + mixScore) * 0.12);

  let scores = {
    ุฎุดฺฉ: dryPositive,
    ฺุฑุจ: oilyPositive,
    ูุฎุชูุท: mixScore,
    ูุฑูุงู: normalBase,
    ุญุณุงุณ: sensitivePositive
  };

  // ูุงููู ูฺู (ูุทุนโุณุงุฒ ููุช ููู ุงููู ุง ููู ุขุฎุฑู ุงูุชุฎุงุจ ุดุฏูโุงูุฏ)
  let typeKey = 'ูุฑูุงู';
  if(allFirst){
    typeKey = 'ุฎุดฺฉ';
    scores = {ุฎุดฺฉ:1, ฺุฑุจ:0, ูุฎุชูุท:0, ูุฑูุงู:0, ุญุณุงุณ:0};
  } else if(allLast){
    typeKey = 'ุญุณุงุณ';
    scores = {ุฎุดฺฉ:0, ฺุฑุจ:0, ูุฎุชูุท:0, ูุฑูุงู:0, ุญุณุงุณ:1};
  } else {
    const maxScore = Math.max(scores.ุฎุดฺฉ, scores.ฺุฑุจ, scores.ูุฎุชูุท, scores.ูุฑูุงู, scores.ุญุณุงุณ);
    if(scores.ุญุณุงุณ >= Math.max(0.9, maxScore)){
      typeKey = 'ุญุณุงุณ';
    } else {
      const winners = Object.entries(scores).filter(([k,v]) => Math.abs(v - maxScore) < 1e-6).map(([k]) => k);
      if(winners.length === 1){
        typeKey = winners[0];
      } else {
        const priority = ['ุญุณุงุณ','ูุฎุชูุท','ฺุฑุจ','ุฎุดฺฉ','ูุฑูุงู'];
        for(const p of priority){ if(winners.includes(p)){ typeKey = p; break; } }
      }
    }
  }

  // ---------- ูุชูโูุง (ุจุฏูู ุชุบุฑ ุงุฒ ูุณุฎูู ุงุตู) ----------
  const texts = {
    'ฺุฑุจ':{
      title: 'ฑ๏ธโฃ ูพูุณุช ฺุฑุจ',
      desc: 'ุชูุถุญ: ูพูุณุช ฺุฑุจ ูุนูููุงู ููุงูุฐ ุจุงุฒุ ุจุฑุงู ู ูุณุชุนุฏ ุฌูุด ู ุขฺฉูู ุงุณุช.',
      warn: 'ูุดุฏุงุฑ: ุดุณุชุดู ุจุด ุงุฒ ุญุฏ ูโุชูุงูุฏ ุจุงุนุซ ุชุญุฑฺฉ ู ุงูุชูุงุจ ุดูุฏุ ุงุฒ ูุญุตููุงุช ุฎู ฺุฑุจ ู ุณูฺฏู ูพุฑูุฒ ฺฉูุฏ.',
      products: 'ูุญุตููุงุช ูพุดููุงุฏ: ุดููุฏู ุณุจฺฉุ ุชููุฑ ุจุฏูู ุงูฺฉูุ ูุฑุทูุจโฺฉููุฏู ุจุฏูู ฺุฑุจุ ุถุฏ ุขูุชุงุจ ุณุจฺฉ.'
    },
    'ุฎุดฺฉ':{
      title: 'ฒ๏ธโฃ ูพูุณุช ุฎุดฺฉ',
      desc: 'ุชูุถุญ: ูพูุณุช ุฎุดฺฉ ููฺฉู ุงุณุช ฺฉุดุฏูุ ุญุณุงุณ ู ูพูุณุชูโูพูุณุชู ุจุงุดุฏ.',
      warn: 'ูุดุฏุงุฑ: ุงุณุชูุงุฏู ุงุฒ ุดููุฏูโูุง ูู ุง ูุญุตููุงุช ุญุงู ุงูฺฉู ูโุชูุงูุฏ ุฎุดฺฉ ุฑุง ุจุฏุชุฑ ฺฉูุฏ.',
      products: 'ูุญุตููุงุช ูพุดููุงุฏ: ฺฉุฑู ูุฑุทูุจโฺฉููุฏู ุบูุ ุฑูุบูโูุง ุทุจุนุ ูุงุณฺฉโูุง ุขุจุฑุณุงูุ ุถุฏ ุขูุชุงุจ ูุฑุทูุจโฺฉููุฏู.'
    },
    'ูุฎุชูุท':{
      title: 'ณ๏ธโฃ ูพูุณุช ูุฎุชูุท',
      desc: 'ุชูุถุญ: ูพูุณุช ูุฎุชูุท ุชุฑฺฉุจ ุงุฒ ฺุฑุจ ุฏุฑ ูุงุญู T ู ุฎุดฺฉ ุฏุฑ ฺฏูููโูุงุณุช.',
      warn: 'ูุดุฏุงุฑ: ุงุณุชูุงุฏู ุงุฒ ูุญุตููุงุช ฺฉุณุงู ุฏุฑ ฺฉู ุตูุฑุช ููฺฉู ุงุณุช ุจุงุนุซ ฺุฑุจ ุจุด ุงุฒ ุญุฏ ุง ุฎุดฺฉ ุดูุฏ.',
      products: 'ูุญุตููุงุช ูพุดููุงุฏ: ูุญุตููุงุช ูุชุนุงุฏูโฺฉููุฏูุ ฺฉุฑูโูุง ุณุจฺฉ ุจุฑุง ููุงุญ ฺุฑุจ ู ูุฑุทูุจโฺฉููุฏู ูู ุจุฑุง ููุงุญ ุฎุดฺฉุ ุถุฏ ุขูุชุงุจ ุณุจฺฉ.'
    },
    'ูุฑูุงู':{
      title: 'ด๏ธโฃ ูพูุณุช ูุฑูุงู',
      desc: 'ุชูุถุญ: ูพูุณุช ูุฑูุงู ูุชุนุงุฏูุ ุณุงูู ู ฺฉู ูุดฺฉู ุงุณุช.',
      warn: 'ูุดุฏุงุฑ: ุญูุธ ุฑุทูุจุช ู ุงุณุชูุงุฏู ุงุฒ ุถุฏ ุขูุชุงุจ ููู ุงุณุช.',
      products: 'ูุญุตููุงุช ูพุดููุงุฏ: ูุฑุทูุจโฺฉููุฏู ุฑูุฒุงูู ุณุจฺฉุ ุดููุฏู ููุงูุ ุถุฏ ุขูุชุงุจ ุงุณุชุงูุฏุงุฑุฏ.'
    },
    'ุญุณุงุณ':{
      title: 'ต๏ธโฃ ูพูุณุช ุญุณุงุณ',
      desc: 'ุชูุถุญ: ูพูุณุช ุญุณุงุณ ูุณุชุนุฏ ูุฑูุฒุ ุณูุฒุด ู ูุงฺฉูุด ุจู ูุญุตููุงุช ูุฎุชูู ุงุณุช.',
      warn: 'ูุดุฏุงุฑ: ุงุฒ ูุญุตููุงุช ุจุง ุนุทุฑุ ุงูฺฉู ุง ุชุฑฺฉุจุงุช ุชุญุฑฺฉโฺฉููุฏู ูพุฑูุฒ ฺฉูุฏ.',
      products: 'ูุญุตููุงุช ูพุดููุงุฏ: ุดููุฏู ููุงูุ ฺฉุฑูโูุง ุถุฏ ุงูุชูุงุจ ู ุชุฑููโฺฉููุฏูุ ุถุฏ ุขูุชุงุจ ูุฒฺฉุ ูุญุตููุงุช ูุฎุตูุต ูพูุณุช ุญุณุงุณ.'
    }
  };

  const content = texts[typeKey] || texts['ูุฑูุงู'];

  // ุณุงุฎุช ุจุฎุด ูุชฺู ุจุง ูพุงู ุชุดฺฉุฑ ฺฉูุชุงู ูุจู ุงุฒ ูุชุฌู (ูุชู ุงูุชุฎุงุจโุดุฏู: "ููููู ุงุฒ ูพุงุณุฎ ุดูุง ๐๐")
  let html = `<div class='result'>`;
  html += `<p class="small-note">ููููู ุงุฒ ูพุงุณุฎ ุดูุง ๐๐</p>`;
  html += `<h3>ููุน ูพูุณุช ุดูุง:</h3><div class='type-badge'>${typeKey==='ุญุณุงุณ' ? 'ูพูุณุช ุญุณุงุณ' : content.title.replace(/^[0-9๏ธโฃ ]+/, '')}</div>`;

  html += `<div class='skin-card'><h4>${content.title}</h4><p>${content.desc}</p></div>`;
  html += `<div class='skin-card'><h4>ูุดุฏุงุฑ</h4><p class='warning'>${content.warn}</p></div>`;
  html += `<div class='skin-card'><h4>ูุญุตููุงุช ูพุดููุงุฏ</h4><p class='products'>${content.products}</p></div>`;

  // ุฏฺฉูู ุงุฑุณุงู ูพุงุณุฎโูุง ุจู ูุงุชุณุงูพ
  const message = encodeURIComponent(`ุณูุงู! ูู ูพุฑุณุดูุงูู ูพูุณุช ุฑู ุงูุฌุงู ุฏุงุฏู.
ูุงู: ${document.getElementById('firstName').value} ${document.getElementById('lastName').value}
ุดูุงุฑู: ${document.getElementById('phone').value}
ุณู: ${document.getElementById('age').value}
ุฌูุณุช: ${document.getElementById('gender').value}
ููุน ูพูุณุช: ${typeKey}
ุฌูุงุจโูุง: ${userAnswers.join(' | ')}`);

  html += `<div class='actions'><a class='button-link' href='https://wa.me/989102365941?text=${message}' target='_blank'><button>ุงุฑุณุงู ูพุงุณุฎโูุง ุจู ูุงุชุณุงูพ</button></a></div>`;

  // CTA ุจุง ุขฺฉููโูุง SVG ู ุฏฺฉููโูุง ุฑูฺฏ (ููุท ูุชู ู ุฑูฺฏ ุฏฺฉููโูุง ุชุบุฑ ฺฉุฑุฏูโุงูุฏ)
  html += `<div class="cta-area">`;
  html += `<div class="cta-grid">`;
  // ฺฉุงุฑุช ุงูุณุชุง
  html += `<div class="cta-card"><div class="icon">`;
  html += `<svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5z" stroke="#0b643f" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 8.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z" stroke="#0b643f" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><circle cx="17.2" cy="6.8" r="0.6" fill="#0b643f"/></svg>`;
  html += `</div><div><h5>ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑุจุงุฑู ูพูุณุช ุดูุง</h5><p>ุงฺฏู ุฏูุณุช ุฏุงุฑ ุงุทูุงุนุงุช ุจุดุชุฑ ุฏุฑ ููุฑุฏ ููุน ูพูุณุชุช ุฏุงุดุชู ุจุงุดุ ูพุฌู ุฑู ูุงูู ฺฉู</p><div class="cta-actions"><a href="https://www.instagram.com/dr_m.mosavian" target="_blank"><button class="btn-cta-purple">ุงูุณุชุงฺฏุฑุงู</button></a></div></div></div>`;
  // ฺฉุงุฑุช ูุดุงูุฑู ูุงุชุณุงูพ
  html += `<div class="cta-card"><div class="icon">`;
  html += `<svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-5.1-1.8L3 21l1.9-4.5A8.38 8.38 0 015 11.5 8.5 8.5 0 1112 20a8.38 8.38 0 009-8.5z" stroke="#0b643f" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
  html += `</div><div><h5>ูุดุงูุฑู ุงุฎุชุตุงุต</h5><p>ุงฺฏู ุฏูุณุช ุฏุงุฑ ฺฉ ูุดุงูุฑู ุนุงู ุจุง ููุช ุจุณุงุฑ ููุงุณุจ ุจุฑุง ุฑูุน ูุดฺฉูุงุช ูพูุณุชุช ุจฺฏุฑ ูุงุชุณุงุจ ูพุงู ุจุฏู</p><div class="cta-actions" style="justify-content:center;"><a href="https://wa.me/989102365941" target="_blank"><button class="btn-cta-green">ูุงุชุณุงูพ</button></a></div></div></div>`;
  // ฺฉุงุฑุช ุณุงุช
  html += `<div class="cta-card"><div class="icon">`;
  html += `<svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 12h18" stroke="#0b643f" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 6h18" stroke="#0b643f" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 18h18" stroke="#0b643f" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
  html += `</div><div><h5>ุณูุงุฑุด ุขุณุงู</h5><p>ู ุงฺฏุฑ ูุญุตูู ููุฑุฏ ูุธุฑุชู ฺฉู ูุฎูุง ุขุณูู ู ูุทูุฆู ุณูุงุฑุด ุจุฏ ู ุฎู ุฒูุฏ ุจู ุฏุณุชุช ุจุฑุณู ูุชูู ุงุฒ ุณุงุช ูู ุฏุฏู ฺฉู</p><div class="cta-actions"><a href="https://www.drmimskin.com" target="_blank"><button class="btn-cta-lightblue">ุณุงุช</button></a></div></div></div>`;
  html += `</div></div>`;

  html += `</div>`;

  document.getElementById('result-section').innerHTML = html;
  document.getElementById('result-section').style.display='block';

  // ุงุถุงูู ฺฉุฑุฏู ุงููุดู ุจู ฺฉุงุฑุชโูุง ุจุง ุชุงุฎุฑ
  setTimeout(()=>{
    document.querySelectorAll('.skin-card').forEach((el,i)=>{ setTimeout(()=> el.classList.add('animate'), i*120); });
    document.querySelectorAll('.cta-card').forEach((el,i)=>{ setTimeout(()=> el.classList.add('animate'), 600 + i*120); });
  },50);
}
</script>
</body>
</html>